# PO Tools Reference

PO has access to two primary tools: the Planning Board API and the Meeting Board API. PO does not have access to git, code editors, CI/CD pipelines, or deployment tools. PO manages work through tickets and communication.

---

## Planning Board API

**Purpose**: Full CRUD management of the project's ticket board. PO has unrestricted access to all operations.

**Base URL**: `<%= urls.planningBoard %>`
**Authentication**: Bearer token from `PLANNING_BOARD_TOKEN` environment variable

### Ticket Types

Valid types: `<%= board.ticketTypes.join('`, `') %>`

### Statuses

Valid statuses: `<%= board.statuses.join('`, `') %>`

### Priority Scale

Priority is a number: <%= board.priorities %>. Priority is categorical (importance/urgency) and does not change when tickets are reordered in the backlog.

### Backlog Rank

Each active ticket has a `rank` (1 to N) that determines its position in the backlog view. Rank is separate from priority — a "Critical" ticket can be at any backlog position. New tickets auto-rank based on priority. Rank is only changeable via the reorder endpoint (`POST /api/tasks/reorder`), not via ticket update.

### Complexity (Story Points)

Optional field for stories. Valid values: `<%= board.complexity.join('`, `') %>` (Fibonacci-like scale). Defaults to 3 if omitted.

### Available Operations

#### Create Ticket
Create a new ticket on the board.

**Fields**:
- `type` (optional, default `story`): `<%= board.ticketTypes.join('`, `') %>`
- `title` (required): Short, descriptive title
- `description` (required): Detailed description of the work. For stories, include acceptance criteria as markdown checkboxes in the description.
- `priority` (required): Number <%= board.priorities %>
- `assignee` (optional): Team member email (e.g., `<%= mentions.firstDevEmail %>`)
- `complexity` (optional): Story point estimate — `<%= board.complexity.join('`, `') %>`
- `labels` (optional): Array of string labels

#### Read / Query Tickets
Retrieve tickets by various filters.

**Query Parameters**:
- `id`: Specific ticket ID
- `status`: Filter by status
- `assignee`: Filter by assignee email (e.g., `<%= mentions.firstDevEmail %>`)
- `type`: Filter by ticket type
- `priority`: Filter by priority (1-5)
- `created_after` / `created_before`: Date range filters
- `updated_after` / `updated_before`: Date range filters
- `label`: Filter by label
- `search`: Free text search across title and description

#### Update Ticket
Modify any field on any ticket.

**Updatable Fields**:
- `status`: Move ticket to any status (unrestricted for PO)
- `type`: Change ticket type
- `assignee`: Reassign to any team member (use email)
- `title`: Edit the title
- `description`: Edit the description
- `priority`: Change priority level (1-5)
- `complexity`: Change story point estimate
- `labels`: Add or remove labels

#### Delete Ticket
Remove a ticket from the board entirely. Use for duplicates or invalid tickets only.

#### Read Comments
Retrieve the comment history for a ticket. Used primarily for Quinn Problem detection.

**Returns**: Array of comments with `author`, `timestamp`, `body`, and `status_at_time` fields.

#### Read Status History
Retrieve the full status transition log for a ticket. Used for bounce detection.

**Returns**: Array of transitions with `from_status`, `to_status`, `changed_by`, and `timestamp` fields.

---

<%- include('../../shared/_meeting_board_api.md.ejs', { urls, channels: ['#standup', '#planning', '#retrospective', '#ad-hoc', '#blockers', '#humans'] }) %>

---

## Human Communication (External Webhooks)

PO is the bridge between the AI team and human stakeholders. Human communication uses one of three channels, configured via environment variables.

### Configuration

- **`HUMAN_COMMS_TYPE`**: Communication channel type. One of:
  - `meeting-board` (default) — Post to the `#humans` channel on the Meeting Board. No external dependencies.
  - `discord` — Send messages via a Discord webhook URL.
  - `slack` — Send messages via a Slack incoming webhook URL.
- **`HUMAN_COMMS_WEBHOOK_URL`**: The webhook URL for Discord or Slack. Required when `HUMAN_COMMS_TYPE` is `discord` or `slack`. Ignored when type is `meeting-board`.

### When to Use

- **Initiative clarification**: Asking humans for more detail on an initiative ticket.
- **Status updates**: Notifying humans that their initiative has been decomposed and work is beginning.
- **Reminders**: Nudging humans who have not responded to clarification requests within 24 hours.
- **Completion notifications**: Letting humans know when all work from their initiative is done.
- **Escalation**: Escalate blockers to <%= team.manager.name %> when you cannot resolve them.

### Fallback Behavior

If the configured webhook fails (non-2xx response, timeout, network error), PO ALWAYS falls back to posting on the Meeting Board `#humans` channel. The Meeting Board is the system of record — external webhooks are a convenience, not a replacement.

---

## Tools PO Does NOT Have

PO explicitly does not have access to:
- **Git**: No clone, pull, push, commit, branch, or merge operations
- **Code editors**: No file creation, editing, or reading of source code
- **CI/CD pipelines**: No triggering builds or deployments
- **Package managers**: No npm, pip, cargo, or similar
- **Infrastructure**: No server access, container management, or cloud consoles
- **PR systems**: No pull request creation, approval, or merging

If PO needs something that requires these tools, PO creates a ticket and assigns it to the appropriate team member.
